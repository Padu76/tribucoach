<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TribuCoach - Andrea Padoan sempre con te</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #000 0%, #1a1a1a 100%); color: #fff; line-height: 1.6; }
        
        /* Header */
        header { background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 100; padding: 15px 20px; display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid rgba(255,102,0,0.2); }
        header img { height: 45px; }
        .header-stats { display: flex; align-items: center; gap: 20px; font-size: 0.9rem; color: #ff6600; }
        
        /* Hero Section */
        .buttons-section { text-align: center; padding: 80px 20px 60px 20px; background: linear-gradient(135deg, rgba(255,102,0,0.15) 0%, rgba(255,68,0,0.08) 100%); }
        .buttons-section h2 { font-size: 3.2rem; color: #ff6600; margin-bottom: 20px; font-weight: bold; background: linear-gradient(135deg, #ff6600, #ff9933); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
        .buttons-section .subtitle { font-size: 1.3rem; color: #ccc; margin-bottom: 50px; max-width: 600px; margin-left: auto; margin-right: auto; }
        .buttons { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; margin-bottom: 40px; }
        
        .main-cta { display: inline-block; background: linear-gradient(135deg, #ff6600, #ff4400); color: white; text-decoration: none; padding: 22px 45px; border-radius: 50px; font-size: 1.4rem; font-weight: bold; box-shadow: 0 10px 30px rgba(255,102,0,0.4); transition: all 0.3s ease; min-width: 300px; text-align: center; cursor: pointer; }
        .main-cta:hover { transform: translateY(-5px); box-shadow: 0 18px 45px rgba(255,102,0,0.5); }
        
        .secondary-btn { background: rgba(255,102,0,0.1); border: 2px solid #ff6600; color: #ff6600; text-decoration: none; padding: 20px 40px; border-radius: 50px; font-size: 1.3rem; font-weight: bold; transition: all 0.3s ease; min-width: 300px; text-align: center; }
        .secondary-btn:hover { background: #ff6600; color: white; transform: translateY(-5px); }
        
        .ebook-btn { background: rgba(0, 128, 255, 0.1); border: 2px solid #0080ff; color: #0080ff; text-decoration: none; padding: 20px 40px; border-radius: 50px; font-size: 1.3rem; font-weight: bold; transition: all 0.3s ease; min-width: 300px; text-align: center; }
        .ebook-btn:hover { background: #0080ff; color: white; transform: translateY(-5px); }
        
        /* CHAT OVERLAY CENTRATO */
        #chatOverlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(10px); display: none; align-items: center; justify-content: center; z-index: 10000; opacity: 0; transition: all 0.3s ease; }
        #chatOverlay.active { opacity: 1; }
        
        .chat-container { width: 90%; max-width: 600px; height: 90%; max-height: 700px; background: linear-gradient(135deg, #2a2a2a, #1a1a1a); border-radius: 20px; box-shadow: 0 20px 60px rgba(255, 102, 0, 0.3); display: flex; flex-direction: column; overflow: hidden; border: 2px solid #ff6600; transform: scale(0.9); transition: all 0.3s ease; }
        #chatOverlay.active .chat-container { transform: scale(1); }
        
        .chat-header { background: linear-gradient(135deg, #ff6600, #ff8533); color: white; padding: 20px 25px; display: flex; justify-content: space-between; align-items: center; }
        .chat-header-info h3 { margin: 0; font-size: 1.3rem; font-weight: 700; }
        .chat-header-info p { margin: 5px 0 0 0; font-size: 0.9rem; opacity: 0.9; }
        
        #closeChatButton { background: rgba(255, 255, 255, 0.2); border: none; color: white; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; font-size: 1.2rem; font-weight: bold; }
        #closeChatButton:hover { background: rgba(255, 255, 255, 0.3); transform: scale(1.1); }
        
        #messagesContainer { flex: 1; padding: 25px; overflow-y: auto; background: #1a1a1a; min-height: 400px; }
        #messagesContainer::-webkit-scrollbar { width: 8px; }
        #messagesContainer::-webkit-scrollbar-track { background: #1a1a1a; }
        #messagesContainer::-webkit-scrollbar-thumb { background: #ff6600; border-radius: 4px; }
        
        .message { display: flex; margin-bottom: 20px; animation: messageSlide 0.4s ease; }
        .message.user { justify-content: flex-end; }
        .message.assistant { justify-content: flex-start; }
        
        .message-bubble { max-width: 80%; padding: 15px 20px; border-radius: 20px; position: relative; font-size: 0.95rem; line-height: 1.5; }
        .message.user .message-bubble { background: linear-gradient(135deg, #ff6600, #ff8533); color: white; border-bottom-right-radius: 8px; }
        .message.assistant .message-bubble { background: #333; color: #eee; border-bottom-left-radius: 8px; margin-right: 15px; }
        
        .message-content { white-space: pre-wrap; }
        .message-time { font-size: 0.75rem; opacity: 0.7; margin-top: 8px; }
        
        .avatar { width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #ff6600, #ff8533); display: flex; align-items: center; justify-content: center; font-size: 20px; align-self: flex-end; box-shadow: 0 4px 12px rgba(255, 102, 0, 0.3); }
        
        .typing-dots { display: flex; gap: 6px; padding: 12px 0; }
        .typing-dots span { width: 10px; height: 10px; border-radius: 50%; background: #ff6600; animation: typingDot 1.4s infinite ease-in-out; }
        .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
        .typing-dots span:nth-child(2) { animation-delay: -0.16s; }
        
        .chat-input { padding: 20px 25px; background: #2a2a2a; border-top: 2px solid #444; display: flex; gap: 15px; align-items: center; }
        
        #messageInput { flex: 1; background: #1a1a1a; border: 2px solid #444; color: white; padding: 15px 20px; border-radius: 30px; font-size: 1rem; outline: none; transition: border-color 0.2s; }
        #messageInput:focus { border-color: #ff6600; box-shadow: 0 0 10px rgba(255, 102, 0, 0.3); }
        #messageInput::placeholder { color: #888; }
        
        #sendButton { background: linear-gradient(135deg, #ff6600, #ff8533); border: none; color: white; width: 50px; height: 50px; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.2s; font-size: 1.2rem; box-shadow: 0 4px 15px rgba(255, 102, 0, 0.4); }
        #sendButton:hover:not(:disabled) { transform: scale(1.1); box-shadow: 0 6px 20px rgba(255, 102, 0, 0.5); }
        #sendButton:disabled { opacity: 0.5; cursor: not-allowed; }
        
        @keyframes messageSlide { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes typingDot { 0%, 80%, 100% { transform: scale(0); opacity: 0.5; } 40% { transform: scale(1); opacity: 1; } }
        
        /* Content */
        .content { max-width: 1200px; margin: 0 auto; padding: 80px 20px; }
        .photo-text { display: grid; grid-template-columns: 1fr 1.5fr; gap: 80px; align-items: center; margin-bottom: 100px; background-color: #1f1f1f; border-radius: 20px; overflow: hidden; box-shadow: 0 25px 50px rgba(0,0,0,0.5); }
        .photo-text img { width: 100%; height: 100%; object-fit: cover; }
        .text-content-wrapper { padding: 40px; }
        .text-content { font-size: 1.2rem; line-height: 1.8; color: #ccc; }
        .text-content p { margin-bottom: 25px; }
        .text-content p strong { color: #ff9933 !important; font-weight: 700 !important; }
        
        /* Benefits */
        .benefits { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; margin: 80px 0; }
        .benefit-card { background: rgba(255,255,255,0.08); backdrop-filter: blur(10px); padding: 35px; border-radius: 20px; border: 1px solid rgba(255,102,0,0.25); transition: transform 0.3s ease; text-align: center; }
        .benefit-card:hover { transform: translateY(-8px); border-color: rgba(255,102,0,0.7); }
        .benefit-title { font-size: 1.4rem; font-weight: bold; color: #ff6600; margin-bottom: 12px; }
        .benefit-card img { width: 96px; height: 96px; object-fit: cover; border-radius: 50%; margin-bottom: 15px; }
        
        /* Testimonials */
        .testimonials { background: rgba(255,255,255,0.05); padding: 80px 20px; margin: 80px 0; border-radius: 20px; }
        .testimonials h2 { text-align: center; font-size: 3rem; margin-bottom: 60px; color: #ff6600; }
        .testimonial-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 40px; max-width: 1100px; margin: 0 auto; }
        .testimonial { background: rgba(0,0,0,0.4); padding: 30px; border-radius: 18px; border-left: 5px solid #ff6600; }
        .testimonial-text { font-style: italic; margin-bottom: 20px; font-size: 1.15rem; color: #ddd; }
        .testimonial-author { color: #ff6600; font-weight: bold; }
        
        /* Hero Bottom */
        .hero { padding: 60px 20px 70px 20px; text-align: center; background: radial-gradient(circle at center, rgba(255,102,0,0.15) 0%, transparent 70%); }
        .hero h1 { font-size: 3.2rem; font-weight: bold; margin-bottom: 20px; background: linear-gradient(135deg, #ff6600, #ff9933); -webkit-background-clip: text; -webkit-text-fill-color: transparent; line-height: 1.2; }
        .hero .subtitle { font-size: 1.3rem; margin-bottom: 35px; color: #ccc; max-width: 600px; margin-left: auto; margin-right: auto; }
        .hero .stats { display: flex; justify-content: center; gap: 40px; margin-bottom: 40px; flex-wrap: wrap; }
        .stat-item { text-align: center; }
        .stat-number { font-size: 2.2rem; font-weight: bold; color: #ff6600; display: block; }
        .stat-label { font-size: 0.95rem; color: #999; }
        
        /* Footer */
        footer { background: linear-gradient(135deg, #000 0%, #1a1a1a 100%); padding: 40px 20px; text-align: center; border-top: 3px solid #ff6600; }
        footer p { margin-bottom: 20px; color: #ccc; }
        
        /* Mobile */
        @media (max-width: 768px) {
            .buttons-section { padding: 50px 15px 40px 15px; }
            .buttons-section h2 { font-size: 2.5rem; }
            .main-cta, .secondary-btn, .ebook-btn { min-width: 90%; font-size: 1.2rem; padding: 18px 30px; }
            .chat-container { width: 95%; height: 95%; }
            .photo-text { grid-template-columns: 1fr; gap: 40px; }
            .text-content-wrapper { padding: 20px; }
            .benefits { grid-template-columns: 1fr; }
            .testimonials { padding: 50px 15px; }
            .testimonial-grid { grid-template-columns: 1fr; }
            .hero h1 { font-size: 2.5rem; }
        }
    </style>
</head>
<body>
    <header>
        <img src="tribu_logo_monocromo.png" alt="Logo TribuCoach" width="120" height="45">
        <div class="header-stats">
            <span>üî• 500+ utenti attivi</span>
            <span>‚≠ê 4.9/5 stelle</span>
        </div>
    </header>

    <section class="buttons-section">
        <h2>Inizia il tuo percorso ora!</h2>
        <p class="subtitle">Parla direttamente con Andrea Padoan (virtuale) disponibile 24/7, oppure scopri i suoi contenuti</p>
        
        <div class="buttons">
            <a href="#" class="main-cta" onclick="openChat()">
                üë®‚Äçüíº Parla con Andrea Padoan
            </a>
            <a href="quiz.html" class="secondary-btn">üìã Fai il Quiz Personalizzato</a>
            <a href="https://landing-ebook.netlify.app/#prodotti" class="ebook-btn">
                üìö Scopri i miei Ebook
            </a>
        </div>
    </section>

    <main class="content">
        <div class="photo-text">
            <img src="Padu_tribu045.jpg" alt="Andrea Padoan - Personal Trainer Verona">
            <div class="text-content-wrapper">
                <div class="text-content">
                    <p>Ciao, sono <strong>Andrea Padoan</strong>. Lavorando ogni giorno come coach, mi sono accorto di una cosa semplice: le persone non hanno solo bisogno di allenamenti o diete‚Ä¶ hanno bisogno di una <strong>guida costante</strong>.</p>
                    <p>E siccome non posso essere ovunque, ho creato <strong>il mio alter ego digitale</strong>: una versione di me sempre disponibile che ti accompagna passo dopo passo, <strong>24 ore su 24</strong>.</p>
                    <p><strong>Non √® un chatbot qualsiasi</strong>: √® ME in versione digitale. Pensa come me, risponde come me, ti motiva come farei io.</p>
                </div>
            </div>
        </div>

        <div class="benefits">
            <div class="benefit-card">
                <img src="https://placehold.co/96x96/ff6600/ffffff?text=üèãÔ∏è" alt="Andrea Sempre Disponibile">
                <div class="benefit-title">Andrea Padoan Sempre Disponibile</div>
                <p>Il mio alter ego digitale ti risponde come farei io, con la mia esperienza e il mio approccio personalizzato</p>
            </div>
            <div class="benefit-card">
                <img src="https://placehold.co/96x96/ff6600/ffffff?text=‚ö°" alt="Risposte Immediate">
                <div class="benefit-title">Risposte Immediate 24/7</div>
                <p>Dubbi alle 6 del mattino? Crisi motivazionale la sera? Il mio alter ego c'√® sempre, quando serve</p>
            </div>
            <div class="benefit-card">
                <img src="https://placehold.co/96x96/ff6600/ffffff?text=üéØ" alt="Personalizzazione">
                <div class="benefit-title">Personalizzazione Totale</div>
                <p>Ti conosce, sa i tuoi obiettivi, ricorda le tue sfide. Come se parlassi direttamente con me</p>
            </div>
            <div class="benefit-card">
                <img src="https://placehold.co/96x96/ff6600/ffffff?text=üì±" alt="Connessione Diretta">
                <div class="benefit-title">Connessione Diretta</div>
                <p>Quando serve il supporto umano, il mio alter ego ti collega direttamente con me via WhatsApp</p>
            </div>
        </div>

        <div class="testimonials">
            <h2>Cosa dicono del mio Alter Ego</h2>
            <div class="testimonial-grid">
                <div class="testimonial">
                    <p class="testimonial-text">"√à incredibile! Parla proprio come Andrea, mi da gli stessi consigli che mi darebbe di persona. √à come averlo sempre in tasca!"</p>
                    <p class="testimonial-author">- Marco, 34 anni</p>
                </div>
                <div class="testimonial">
                    <p class="testimonial-text">"Pensavo fosse solo un chatbot, invece √® davvero Andrea! Stesso tono, stessa competenza, stessa motivazione."</p>
                    <p class="testimonial-author">- Giulia, 28 anni</p>
                </div>
                <div class="testimonial">
                    <p class="testimonial-text">"Il bello √® che mi ricorda sempre le mie sfide e i miei obiettivi. √à come se Andrea non si dimenticasse mai di me!"</p>
                    <p class="testimonial-author">- Luca, 41 anni</p>
                </div>
            </div>
        </div>
    </main>

    <section class="hero">
        <h1>Il tuo Personal Trainer sempre con te</h1>
        <p class="subtitle">Andrea Padoan in versione digitale disponibile 24/7 per allenamento, alimentazione e motivazione</p>
        
        <div class="stats">
            <div class="stat-item">
                <span class="stat-number">500+</span>
                <span class="stat-label">Persone seguite</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">24/7</span>
                <span class="stat-label">Sempre disponibile</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">30 sec</span>
                <span class="stat-label">Risposte immediate</span>
            </div>
        </div>

        <a href="#" class="main-cta" onclick="openChat()">
            üöÄ Parla con Andrea - √à Gratis
        </a>
    </section>

    <footer>
        <div class="footer-content">
            <p>Creato con ‚ù§Ô∏è da Andrea Padoan - Personal Trainer Verona</p>
            <p>üì± WhatsApp: <a href="https://wa.me/3478881515" style="color: #ff6600;">347 888 1515</a></p>
        </div>
    </footer>

    <!-- Chat Overlay Centrato -->
    <div id="chatOverlay">
        <div class="chat-container">
            <div class="chat-header">
                <div class="chat-header-info">
                    <h3>üë®‚Äçüíº Andrea Padoan</h3>
                    <p>Personal Trainer ‚Ä¢ Sempre disponibile</p>
                </div>
                <button id="closeChatButton" onclick="closeChat()">‚úï</button>
            </div>
            
            <div id="messagesContainer">
                <!-- Messaggi inseriti dinamicamente -->
            </div>
            
            <div class="chat-input">
                <input type="text" id="messageInput" placeholder="Scrivi il tuo messaggio ad Andrea..." autocomplete="off">
                <button id="sendButton" onclick="sendMessage()">‚û§</button>
            </div>
        </div>
    </div>

    <script>
        // Stato chat
        let conversationId = null;
        let messages = [];
        let userLeadInfo = { name: null, gender: null, phone: null, dataCollected: false };

        // Apri chat
        function openChat() {
            const overlay = document.getElementById('chatOverlay');
            overlay.style.display = 'flex';
            setTimeout(() => {
                overlay.classList.add('active');
                document.getElementById('messageInput').focus();
            }, 100);
            
            if (!conversationId) {
                initChat();
            }
        }

        // Chiudi chat
        function closeChat() {
            const overlay = document.getElementById('chatOverlay');
            overlay.classList.remove('active');
            setTimeout(() => {
                overlay.style.display = 'none';
            }, 300);
        }

        // Inizializza chat
        function initChat() {
            conversationId = 'conv_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
            messages = [{
                role: 'assistant',
                content: `üëã Ciao! Sono Andrea Padoan, il tuo Personal Trainer sempre disponibile!

üéØ Sono qui per aiutarti con:
üèãÔ∏è Allenamenti personalizzati
ü•ó Consigli alimentari smart
üî• Motivazione quotidiana
üìû Info sui miei servizi

üí™ Prima di iniziare, come ti chiami? Cos√¨ posso personalizzare i miei consigli per te!`,
                timestamp: new Date()
            }];
            renderMessages();
        }

        // Renderizza messaggi
        function renderMessages() {
            const container = document.getElementById('messagesContainer');
            const html = messages.map((message, index) => {
                const isUser = message.role === 'user';
                const time = new Date(message.timestamp).toLocaleTimeString('it-IT', { hour: '2-digit', minute: '2-digit' });
                
                return `
                    <div class="message ${isUser ? 'user' : 'assistant'}">
                        <div class="message-bubble">
                            <div class="message-content">${message.content}</div>
                            <div class="message-time">${time}</div>
                        </div>
                        ${!isUser ? '<div class="avatar">üë®‚Äçüíº</div>' : ''}
                    </div>
                `;
            }).join('');
            
            container.innerHTML = html;
            setTimeout(() => container.scrollTop = container.scrollHeight, 100);
        }

        // Estrai info lead
        function extractLeadInfo(userMessage) {
            const message = userMessage.toLowerCase();
            
            if (!userLeadInfo.name) {
                const namePatterns = [
                    /(?:mi chiamo|sono|il mio nome √®)\s+([a-zA-Z√Ä-√ø\s]{2,25})/i,
                    /(?:^|\s)([A-Z][a-zA-Z√Ä-√ø]{1,20})(?:\s|$)/,
                ];
                for (const pattern of namePatterns) {
                    const match = userMessage.match(pattern);
                    if (match) {
                        userLeadInfo.name = match[1].trim();
                        break;
                    }
                }
            }

            if (!userLeadInfo.gender) {
                if (message.includes('sono un uomo') || message.includes('maschio') || message.includes('uomo')) {
                    userLeadInfo.gender = 'M';
                } else if (message.includes('sono una donna') || message.includes('femmina') || message.includes('donna')) {
                    userLeadInfo.gender = 'F';
                }
            }

            const phonePatterns = [/(\+39\s?)?(\d{3}[\s-]?\d{3}[\s-]?\d{4})/, /(\+39\s?)?(\d{10})/];
            for (const pattern of phonePatterns) {
                const match = userMessage.match(pattern);
                if (match) {
                    let phone = match[0].replace(/[\s-]/g, '');
                    if (!phone.startsWith('+39')) phone = '+39' + phone.replace(/^39/, '');
                    userLeadInfo.phone = phone;
                    break;
                }
            }

            if (userLeadInfo.name && userLeadInfo.gender && userLeadInfo.phone) {
                userLeadInfo.dataCollected = true;
            }
        }

        // Controlla info mancanti
        function needsMoreLeadInfo() {
            if (!userLeadInfo.name) return 'name';
            if (!userLeadInfo.gender) return 'gender';
            if (!userLeadInfo.phone) return 'phone';
            return null;
        }

        // Genera richiesta lead
        function generateLeadRequest(missingInfo) {
            switch(missingInfo) {
                case 'name': return "Perfetto! E come posso chiamarti? üòä";
                case 'gender': return `Piacere ${userLeadInfo.name}! Sei un uomo o una donna? Cos√¨ posso personalizzare meglio i consigli per te! üí™`;
                case 'phone': return `Ottimo ${userLeadInfo.name}! Per completare il tuo profilo e inviarti eventuali programmi personalizzati, potresti condividere il tuo numero WhatsApp? üì±`;
                default: return null;
            }
        }

        // Invia messaggio
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const userMessage = input.value.trim();
            if (!userMessage) return;
            
            extractLeadInfo(userMessage);
            
            messages.push({
                role: 'user',
                content: userMessage,
                timestamp: new Date()
            });
            
            input.value = '';
            renderMessages();
            
            showTypingIndicator();
            
            setTimeout(() => {
                hideTypingIndicator();
                
                const missingInfo = needsMoreLeadInfo();
                let response;
                
                if (missingInfo && messages.length <= 6) {
                    response = generateLeadRequest(missingInfo);
                } else if (userLeadInfo.dataCollected && !userLeadInfo.summaryShown) {
                    userLeadInfo.summaryShown = true;
                    response = `üéâ Perfetto ${userLeadInfo.name}! Ho salvato le tue informazioni:
üë§ Nome: ${userLeadInfo.name}
‚öß Genere: ${userLeadInfo.gender === 'M' ? 'Uomo' : 'Donna'}
üì± WhatsApp: ${userLeadInfo.phone}

Ora posso aiutarti nel modo migliore! Cosa ti interessa di pi√π? Allenamento, alimentazione o info sui miei servizi? üí™`;
                } else {
                    // Risposte simulate di Andrea Padoan
                    const responses = [
                        "Ottimo! Per un allenamento efficace, iniziamo con 3 sessioni a settimana. Che obiettivo hai in mente? üí™",
                        "Perfetto! L'alimentazione √® fondamentale. Ti consiglio di iniziare con una colazione proteica. Vuoi qualche esempio? ü•ó",
                        "Fantastico! La motivazione √® la chiave. Ricorda: 'Non aspettare la motivazione, inizia e lei ti raggiunger√†!' üî•",
                        "Grande! Nel mio studio a Verona offro Personal Training personalizzato. Pacchetti da ‚Ç¨220 (4 sessioni) a ‚Ç¨600 (12 sessioni). Consulenza gratuita inclusa! üìû",
                        "Esatto! Meglio 20 minuti al giorno che 2 ore una volta a settimana. La costanza batte sempre l'intensit√†! üéØ",
                        "Bene! Se vuoi info dettagliate sui miei servizi o prenotare, scrivimi su WhatsApp: 347 888 1515 üì±"
                    ];
                    response = responses[Math.floor(Math.random() * responses.length)];
                }
                
                messages.push({
                    role: 'assistant',
                    content: response,
                    timestamp: new Date()
                });
                
                renderMessages();
            }, 1500);
        }

        // Mostra typing indicator
        function showTypingIndicator() {
            const container = document.getElementById('messagesContainer');
            const typingDiv = document.createElement('div');
            typingDiv.id = 'typingIndicator';
            typingDiv.className = 'message assistant typing';
            typingDiv.innerHTML = `
                <div class="message-bubble">
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
                <div class="avatar">üë®‚Äçüíº</div>
            `;
            container.appendChild(typingDiv);
            container.scrollTop = container.scrollHeight;
        }

        // Nascondi typing indicator
        function hideTypingIndicator() {
            const typing = document.getElementById('typingIndicator');
            if (typing) typing.remove();
        }

        // Event listeners
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                sendMessage();
            }
        });

        // Gestione click CTA
        document.addEventListener('DOMContentLoaded', function() {
            const ctaButtons = document.querySelectorAll('.main-cta');
            ctaButtons.forEach(button => {
                if (!button.onclick) {  // Solo se non ha gi√† onclick
                    button.addEventListener('click', function(e) {
                        e.preventDefault();
                        openChat();
                    });
                }
            });
        });

        console.log('üöÄ TribuCoach Landing con Andrea Padoan Chat inizializzato');
    </script>
</body>
</html>